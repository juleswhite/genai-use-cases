---
import Layout from '../../layouts/Layout.astro';
import ChatConversation from '../../components/ChatConversation.astro';
import '../../styles/global.css';

const contractReviewConversation = [
  {
    id: '1',
    sender: 'user' as const,
    message: 'I need you to review this software licensing contract and identify any potential issues or missing clauses.',
    timestamp: '10:15 AM',
    documents: [
      {
        name: 'TechCorp_Software_License_Agreement_v2.1.pdf',
        type: 'pdf' as const,
        size: '2.4 MB'
      }
    ]
  },
  {
    id: '2',
    sender: 'ai' as const,
    message: 'I\'ve analyzed your software licensing contract and identified several critical issues:\n\n<strong>ðŸš© Critical Issues Found:</strong>\n\n1. <strong>Missing Liability Cap:</strong> No limitation of liability clause, exposing you to unlimited damages\n\n2. <strong>Weak Indemnification:</strong> One-way indemnification favoring the vendor\n\n3. <strong>Vague IP Rights:</strong> Unclear ownership of derivative works and customizations\n\n4. <strong>No GDPR/Privacy Compliance:</strong> Missing data protection and privacy obligations\n\n5. <strong>Automatic Renewal:</strong> 60-day notice required, but no opt-out mechanism specified',
    timestamp: '10:16 AM'
  },
  {
    id: '3',
    sender: 'user' as const,
    message: 'That\'s concerning. Can you prioritize these by risk level and suggest what clauses we should add?',
    timestamp: '10:17 AM'
  },
  {
    id: '4',
    sender: 'ai' as const,
    message: '<strong>ðŸ”´ HIGH RISK (Address Immediately):</strong>\n\n1. <strong>Liability Cap:</strong> Add "Vendor\'s liability shall not exceed the total fees paid in the 12 months preceding the claim"\n\n2. <strong>GDPR Compliance:</strong> Insert data processing addendum with breach notification requirements\n\n<strong>ðŸŸ¡ MEDIUM RISK:</strong>\n\n3. <strong>IP Rights:</strong> Clarify that customer retains all rights to their data and any customizations\n\n4. <strong>Mutual Indemnification:</strong> Make indemnification mutual for IP infringement claims\n\n<strong>ðŸŸ¢ LOW RISK:</strong>\n\n5. <strong>Auto-renewal:</strong> Add explicit opt-out language and email confirmation requirement',
    timestamp: '10:18 AM'
  },
  {
    id: '5',
    sender: 'user' as const,
    message: 'Perfect. Can you draft the specific language for the liability cap clause?',
    timestamp: '10:19 AM'
  },
  {
    id: '6',
    sender: 'ai' as const,
    message: '<strong>Suggested Liability Cap Clause:</strong>\n\n"<em>Limitation of Liability. IN NO EVENT SHALL VENDOR\'S TOTAL LIABILITY ARISING OUT OF OR RELATED TO THIS AGREEMENT, WHETHER IN CONTRACT, TORT, OR OTHERWISE, EXCEED THE TOTAL AMOUNTS PAID BY CUSTOMER TO VENDOR UNDER THIS AGREEMENT IN THE TWELVE (12) MONTHS PRECEDING THE EVENT GIVING RISE TO LIABILITY. THIS LIMITATION SHALL APPLY REGARDLESS OF THE FORM OF ACTION AND SHALL SURVIVE TERMINATION OF THIS AGREEMENT.</em>"\n\n<strong>ðŸ“‹ Next Steps:</strong>\n1. Share this analysis with your legal team\n2. Request redlined version with these changes\n3. Negotiate the liability cap percentage if needed',
    timestamp: '10:20 AM',
    documents: [
      {
        name: 'Contract_Risk_Analysis_Report_2024.docx',
        type: 'docx' as const,
        size: '1.2 MB'
      },
      {
        name: 'Recommended_Contract_Amendments.xlsx',
        type: 'xlsx' as const,
        size: '245 KB'
      }
    ]
  }
];
---

<Layout title="Identify Issues & Gaps | Conversation Patterns" description="See how AI can automatically identify risks and missing clauses in contracts">
  <!-- Breadcrumb -->
  <div class="bg-slate-50 border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">
      <nav class="flex" aria-label="Breadcrumb">
        <ol class="flex items-center space-x-4">
          <li>
            <div>
              <a href="/" class="text-slate-400 hover:text-slate-500 transition-colors">
                <svg class="flex-shrink-0 h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path>
                </svg>
              </a>
            </div>
          </li>
          <li>
            <div class="flex items-center">
              <svg class="flex-shrink-0 h-5 w-5 text-slate-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              <a href="/conversation" class="ml-4 text-sm font-medium text-slate-500 hover:text-slate-700 transition-colors">
                Conversation Patterns
              </a>
            </div>
          </li>
          <li>
            <div class="flex items-center">
              <svg class="flex-shrink-0 h-5 w-5 text-slate-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
              </svg>
              <span class="ml-4 text-sm font-medium text-slate-900">
                Identify Issues & Gaps
              </span>
            </div>
          </li>
        </ol>
      </nav>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="bg-gradient-to-br from-red-50 via-slate-50 to-red-100 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-8">
        <div class="w-16 h-16 bg-red-100 text-red-600 rounded-2xl flex items-center justify-center mx-auto mb-6">
          <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
          </svg>
        </div>
        <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mb-6">
          Identify Issues & Gaps
        </h1>
        <p class="text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed">
          Watch how AI automatically spots missing clauses, risks, and inconsistencies in legal documents, 
          contracts, and policy papersâ€”turning hours of manual review into minutes.
        </p>
      </div>
    </div>
  </section>

  <!-- Pattern Overview -->
  <section class="py-12 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-3 gap-8 mb-16">
        <div class="lg:col-span-2">
          <h2 class="text-2xl font-bold text-slate-900 mb-6">How It Works</h2>
          <div class="space-y-4 text-slate-700">
            <p class="leading-relaxed">
              This pattern leverages AI's ability to quickly scan documents against established best practices, 
              legal standards, and industry norms. Instead of manually checking every clause, the AI performs 
              comprehensive analysis in seconds.
            </p>
            <p class="leading-relaxed">
              The AI identifies not just what's wrong, but what's <em>missing</em>â€”often the most dangerous 
              oversight in legal documents. It can spot inconsistencies across sections and flag language 
              that could create unexpected liabilities.
            </p>
          </div>
        </div>
        <div class="bg-slate-50 rounded-xl p-6 border border-slate-200">
          <h3 class="font-semibold text-slate-900 mb-4">Common Use Cases</h3>
          <ul class="space-y-3 text-sm text-slate-600">
            <li class="flex items-start">
              <div class="w-2 h-2 bg-red-400 rounded-full mt-2 mr-3 flex-shrink-0"></div>
              <span>Contract risk assessment</span>
            </li>
            <li class="flex items-start">
              <div class="w-2 h-2 bg-red-400 rounded-full mt-2 mr-3 flex-shrink-0"></div>
              <span>Policy compliance reviews</span>
            </li>
            <li class="flex items-start">
              <div class="w-2 h-2 bg-red-400 rounded-full mt-2 mr-3 flex-shrink-0"></div>
              <span>Legal due diligence</span>
            </li>
            <li class="flex items-start">
              <div class="w-2 h-2 bg-red-400 rounded-full mt-2 mr-3 flex-shrink-0"></div>
              <span>Regulatory gap analysis</span>
            </li>
            <li class="flex items-start">
              <div class="w-2 h-2 bg-red-400 rounded-full mt-2 mr-3 flex-shrink-0"></div>
              <span>Insurance claim reviews</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Conversation Example -->
  <section class="py-16 bg-slate-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-slate-900 mb-4">See It In Action</h2>
        <p class="text-slate-600 leading-relaxed">
          A real conversation showing how AI identifies critical issues in a software licensing contract
        </p>
      </div>
      
      <ChatConversation 
        messages={contractReviewConversation}
        title="Software Contract Risk Assessment"
        description="Legal team reviewing a vendor contract for potential liabilities"
      />
    </div>
  </section>

  <!-- Narrative Analysis -->
  <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-slate-900 mb-8 text-center">What Just Happened?</h2>
      
      <div class="grid lg:grid-cols-2 gap-12">
        <!-- Left: Key Moments -->
        <div>
          <h3 class="text-xl font-semibold text-slate-900 mb-6">Key Moments in the Conversation</h3>
          <div class="space-y-6">
            <div class="border-l-4 border-red-400 pl-6">
              <h4 class="font-semibold text-slate-900 mb-2">Instant Document Analysis</h4>
              <p class="text-slate-600 text-sm">
                The AI immediately identified 5 critical issues without human prompting. Notice how it didn't 
                just find obvious problemsâ€”it spotted the <em>missing</em> clauses that could cause major issues later.
              </p>
            </div>
            <div class="border-l-4 border-yellow-400 pl-6">
              <h4 class="font-semibold text-slate-900 mb-2">Risk Prioritization</h4>
              <p class="text-slate-600 text-sm">
                When asked, the AI automatically sorted issues by risk level. This shows how conversation 
                naturally evolvesâ€”the user asks for clarification, and the AI provides more nuanced analysis.
              </p>
            </div>
            <div class="border-l-4 border-green-400 pl-6">
              <h4 class="font-semibold text-slate-900 mb-2">Actionable Solutions</h4>
              <p class="text-slate-600 text-sm">
                The AI didn't just identify problemsâ€”it provided specific legal language and next steps. 
                This transforms analysis into action, making the conversation immediately valuable.
              </p>
            </div>
          </div>
        </div>
        
        <!-- Right: The Pattern -->
        <div>
          <h3 class="text-xl font-semibold text-slate-900 mb-6">The Underlying Pattern</h3>
          <div class="bg-slate-50 rounded-xl p-6 border border-slate-200">
            <div class="space-y-4">
              <div class="flex items-start">
                <div class="w-8 h-8 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center text-sm font-semibold mr-3 flex-shrink-0">1</div>
                <div>
                  <h5 class="font-medium text-slate-900">Document Upload + Context</h5>
                  <p class="text-sm text-slate-600 mt-1">User provides document and specific request (identify issues)</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="w-8 h-8 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center text-sm font-semibold mr-3 flex-shrink-0">2</div>
                <div>
                  <h5 class="font-medium text-slate-900">AI Pattern Recognition</h5>
                  <p class="text-sm text-slate-600 mt-1">AI compares against known best practices and standards</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="w-8 h-8 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center text-sm font-semibold mr-3 flex-shrink-0">3</div>
                <div>
                  <h5 class="font-medium text-slate-900">Structured Analysis</h5>
                  <p class="text-sm text-slate-600 mt-1">Issues categorized by severity and type</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="w-8 h-8 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center text-sm font-semibold mr-3 flex-shrink-0">4</div>
                <div>
                  <h5 class="font-medium text-slate-900">Conversational Refinement</h5>
                  <p class="text-sm text-slate-600 mt-1">User asks follow-up questions for deeper insights</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Why This Matters -->
  <section class="py-16 bg-slate-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl font-bold text-white mb-6">Why This Pattern Is Powerful</h2>
      <p class="text-xl text-slate-300 leading-relaxed mb-8">
        This isn't just about finding errorsâ€”it's about <span class="text-red-400 font-semibold">risk mitigation at scale</span>. 
        What took senior lawyers hours now happens in minutes, with consistent quality and zero fatigue.
      </p>
      
      <div class="grid md:grid-cols-3 gap-6 mt-12">
        <div class="text-center">
          <div class="text-3xl font-bold text-red-400 mb-2">95%</div>
          <div class="text-slate-400">Time Reduction</div>
        </div>
        <div class="text-center">
          <div class="text-3xl font-bold text-red-400 mb-2">100%</div>
          <div class="text-slate-400">Consistency</div>
        </div>
        <div class="text-center">
          <div class="text-3xl font-bold text-red-400 mb-2">24/7</div>
          <div class="text-slate-400">Availability</div>
        </div>
      </div>
    </div>
  </section>
</Layout>